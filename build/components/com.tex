% dhgefigure -> ...
\DeclareDocumentCommand{\dhgefigure}{O{h} m m m m O{} O{}}
{
	\begin{figure}[#1]
		\begin{center}
			\includegraphics[#3]{#2}
		\end{center}
		\caption{#4}
        \label{#5}

		\ifx #6\empty \else
			\ifx #7\empty \else
				{\small \protect \textbf{Quelle:} \cite[#7]{#6}}
			\fi
		\fi
	
	\end{figure}
}

\newcommand{\markBox}[2]
{
    \def\default{#2 {$\square$} #2 {$\square$} #2 {$\square$} #2 {$\square$}}

    \ifnum#1 = 1
    \def\default{#2 {$\boxtimes$} #2 {$\square$} #2 {$\square$} #2 {$\square$}}
    \else
        \ifnum#1 = 2
        \def\default{#2 {$\square$} #2 {$\boxtimes$} #2 {$\square$} #2 {$\square$}}
        \else
            \ifnum#1 = 3
            \def\default{#2 {$\square$} #2 {$\square$} #2 {$\boxtimes$} #2 {$\square$}}
            \else
                \ifnum#1 = 4
                \def\default{#2 {$\square$} #2 {$\square$} #2 {$\square$} #2 {$\boxtimes$}}
                \fi
            \fi
        \fi
    \fi
    \hspace*{-.5cm}\default
}

% new command -> \doubleunderline
\newcommand{\doubleunderline}[1]{
	\underline{\underline{#1}}
}

% definiert eine neue Liste für das Anlagenverzeichnis
\newcommand{\listexamplename}{\vspace*{-20pt}}
\newlistof{anlagen}{alt}{\listexamplename}

% Befehl welcher ein Item dem Anlagenverzeichnis hinzufügt
\newcommand{\ATA}[2]{%
\def\in{#1}
    \def\fig{fig}
    \def\tab{tab}

    \ifx\fig\in
        \def\type{\thefigure}
        \def\name{Abb.\hspace{8pt}}
        \else \ifx\tab\in
            \def\type{\thetable}
            \def\name{Tab.\hspace{10pt}}
        \fi
    \fi
    \setcounter{anlagen}{\type}

    % only here because the \type-counter is one lower (later it will count up like normal)
    % -> reason... it's called to early but can't called later because of dependecies other types LUL
    % works only in the last section of the paper so it should be fine :)   
    \refstepcounter{anlagen}

    \addcontentsline{alt}{anlagen}
    {\name\protect\numberline{\theanlagen}\quad\nameref{#1:#2}}\par
}

\newcommand{\addtoanlagen}[1]{\def\addAnlagen{#1}}

\newcommand{\renewFigTab}{
    \let\oldTab=\table
    \let\oldFig=\figure

    \renewcommand{\table}{{\ATA{tab}{\addAnlagen}}\oldTab}
    \renewcommand{\figure}{{\ATA{fig}{\addAnlagen}}\oldFig}
}    
