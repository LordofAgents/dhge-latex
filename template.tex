% ROOT & PACKAGE SETUP
\documentclass	[a4paper, 12pt]{article}
\usepackage		[a4paper, inner=3cm, outer=2.5cm, top=2.5cm, bottom=2.5cm]{geometry}
\usepackage		[utf8]{inputenc}
\usepackage		{lipsum}
\usepackage		{setspace}
\usepackage		{tocloft}
\usepackage		{titletoc}
\usepackage		[hidelinks]{hyperref}
\usepackage		{amssymb}
\usepackage		{fancyhdr}
\usepackage		{acronym}
\usepackage		{enumitem}
\usepackage		[style=german]{csquotes}
\usepackage		[backend=biber, style=alphabetic, citestyle=alphabetic-ibid, giveninits=true, ibidtracker=true]{biblatex} 
				\addbibresource	{bib.bib}
\usepackage		[ngerman]{babel}
\usepackage		{csquotes,xpatch}

% DOCUMENT SETUP
\onehalfspacing
\setlength		{\parindent}{0cm} % Default is 15pt.
\setlength		{\parskip}{0.5em}
\sloppy
\selectlanguage	{ngerman}

% HEADERS & FOOTERS
\pagestyle		{fancyplain}
\fancyfoot		{}
\fancyhf		{}
\renewcommand		{\headrulewidth}{0pt}
\renewcommand		{\footrulewidth}{0pt}
\fancyhead		[c]{\thepage}

% ToC SETUP
\cftsetindents		{section}{0em}{4em}
\cftsetindents		{subsection}{0em}{4em}
\cftsetindents		{subsubsection}{0em}{4em}
\renewcommand		{\contentsname}{Inhaltsverzeichnis}
\setcounter		{tocdepth}{3}
\setcounter		{secnumdepth}{3}

% ABBILDUNGS-& TABELLENVERZEICHNIS SETUP
\renewcommand	{\listfigurename}{Abbildungsverzeichnis}
\renewcommand	{\listtablename}{Tabellenverzeichnis}

% CITATION & BIBLIOGRAPHY SETUP
\newbibmacro*{oko-cite}{%
	\global\boolfalse{cbx:loccit}%
	\ifthenelse{\ifciteibid\AND\NOT\iffirstonpage}{\usebibmacro{cite:ibid}}
	{\printtext[brackets]{%
			\printfield{labelprefix}%
			\printfield{labelalpha}%
			\printfield{extraalpha}%
			\ifbool{bbx:subentry}
			{\printfield{entrysetcount}}
			{}}}
}

\newbibmacro*{cite:ibid}{%
	\printtext[bibhyperref]{\bibstring[\mkibid]{ibidem}}%
	\ifloccit
	{\global\booltrue{cbx:loccit}}
	{}}

\DeclareCiteCommand{\footcite}[\mkbibfootnote]
{\usebibmacro{prenote}}
{\usebibmacro{citeindex}%
	{\usebibmacro{oko-cite}}}
{\multicitedelim}
{\usebibmacro{postnote}}

\DeclareFieldFormat{url}{\newline\url{#1}}
\DeclareFieldFormat
[manual,online,article,inbook,incollection,inproceedings,patent,thesis,unpublished]
{title}{\mkbibquote{#1\isdot}\addcomma}
\DeclareDelimFormat[bib]{nametitledelim}{\addcolon\space}
\DeclareNameAlias{author}{last-first}
\DeclareNameAlias{editor}{last-first}
\renewcommand{\finentrypunct}{}


% CONSTANTS
\newcommand\CTITLE		{THEMA}
\newcommand\CAUTHOR		{AUTHOR}
\newcommand\CDATUM		{DATUM}
\newcommand\CMATRIKEL		{MATRIKELNUMMER}
\newcommand\CKURS		{KURS}
\newcommand\CCAMPUS		{Gera}
\newcommand\CBEREICH		{Technik}
\newcommand\CSTUDIENGANG	{STUDIENGANG}
\newcommand\CBETRIEB		{FIRMA}
\newcommand\CBETREUER		{BETREUER}

% CUSTOM CONSTANTS
	% DEFINE YOUR CUSTOM CONSTANTS HERE

% COUNTER (So we can keep counting in Roman after having switched to Arabic)
\newcounter{savepage}

%OPENING
\title{\large		{\textbf{\CTITLE}}}
\author			{}
\date			{}

\begin{document}
\pagenumbering	{gobble}
\input			{deckblatt.tex}

% INHALTSVERZEICHNIS
\pagenumbering{Roman} \setcounter{page}{1}
\tableofcontents{\fancyfoot{}}
\cleardoublepage

% ABBILDUNGSVERZEICHNIS
\phantomsection
\addcontentsline{toc}{section}{\listfigurename}
\listoffigures
\cleardoublepage

% TABELLENVERZEICHNIS
\phantomsection
\addcontentsline{toc}{section}{\listtablename}
\listoftables
\cleardoublepage

% ABKÜRZUNGSVERZEICHNIS
\addcontentsline{toc}{section}{Abkürzungsverzeichnis}
\section*{Abkürzungsverzeichnis}
\begin{acronym}[JSONP]\itemsep0pt
	\input{acro.tex}
\end{acronym}
\cleardoublepage

\setcounter{savepage}{\arabic{page}}

% MAIN CONTENT
\pagenumbering	{arabic}
\input			{main.tex}
\cleardoublepage

% LITERATURVERZEICHNIS
% TODO Formatierung
\pagenumbering	{Roman} \setcounter{page}{\thesavepage}
\addcontentsline{toc}{section}{Literaturverzeichnis}
\printbibliography[title=Literaturverzeichnis]
\cleardoublepage

%TODO %ANLAGENVERZEICHNIS UND ANLAGEN
\section*{Anlagenverzeichnis}
% INPUT YOUR ANLAGEN HERE
\addcontentsline{toc}{section}{Anlagen}
\cleardoublepage
% EHRENWÖRTLICHE ERKLÄRUNG
\pagenumbering	{gobble}
\addcontentsline{toc}{section}{Ehrenwörtliche Erklärung}
\section*{Ehrenwörtliche Erklärung}
\input{ehrenwort.tex}

\end{document}
